{% extends "layout.html" %}

{% block head %}
  {{ super() }}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/instructions.css') }}" />
{% endblock %}


{% block content %}
<div class="container">
  <h1>Getting Started</h1>
  <p>
    This page is intended as a getting started guide to using this tool to
    explore the cable TV news data set.
  </p>
  <hr>
</div>

<div class="container">
  <h3>Background</h3>
  <p>
    24/7 news coverage is a staple of cable TV programming in the United States.
    Coverage consists of a broad range of topics, ranging from political
    coverage of the latest election cycle, emerging scandals involving
    high-profile individuals, social unrest and calls for reform to events
    unfolding across the globe, the latest victors in sports, and new trends in
    health and fashion. These programs can influence public opinions and
    perceptions of events in the world or reflect pervasive social biases.
  </p>

  <p>
    In an age of big data analytics, <i>how do we ask questions about the
    content in the news media? How do we ask questions about topics being
    discuss or the people discussing them when media is measured in days, weeks
    or months --- more than is feasible for any individual to rewatch?</i> For
    instance, <i>what is the ratio of men to women show on screen when the topic
    is harassment, economics, or terrorism?</i>
  </p>

  <p>
    Advances in AI provide a new lens for annotating and analyzing large video
    data sets such as nearly a decade of cable TV news. We use these new
    models and techniques to automatically annotate the video data set with
    information such as the location of faces in the frame, the gender of each
    face, and the associated identity if the person is a "celebrity" or
    public figure. See the <a href="/methodology">methodology</a> page for
    a technical explanation of our methods and their limitations.
    This purpose of this tool is to enable interactive queries on the data set,
    with AI annotations, to answer high-level questions about the news.
  </p>

  <h3>Basics: Searching with this tool</h3>
  <p>
    This application allows you to count the screen time of search queries
    over nearly a decade of American cable TV news (CNN, FOX, and MSNBC).
    On the homepage, at the top, you should see a search
    row and controls.

    <a href="/" target="_blank">
      <img src="{{ url_for('static', filename='img/ui.png') }}" style="width: 100%;"
           title="This is a screenshot. Click to pop out an editor.">
    </a>
  </p>

  <p>
    Each search query begins with "<code><b>COUNT</b> screen time <b>WHERE</b></code>",
    followed by a set of search filters. If no filters are given, then all of the
    video is counted. The search box can be edited directly or using the
    dropdown search editor (click the &#x1F50D; button).
    Press the "Search the news!" button to show the amount of screen time
    over time.
  </p>

  <p>
    <button type="button" class="btn btn-primary try-it-btn" title="Opens a new page">Try it yourself!</button>
  </p>

  <p>
    For example, if you press search with no query added (the default),
    a chart similar to the following should appear; this shows the total amount
    of video in the data set from 2010 onwards, aggregated by month.
    While the amount of data is mostly constant across time,
    there are periods of time with more or less data available.
  </p>
  <iframe width="100%" height="0" src="//{{ host }}/embed?width=600&height=270&data=%7B%22options%22%3A%7B%22start_date%22%3A%222010-01-01%22%2C%22end_date%22%3A%222018-04-01%22%2C%22count%22%3A%22screen%20time%22%2C%22aggregate%22%3A%22month%22%7D%2C%22queries%22%3A%5B%7B%22color%22%3A%22%234E79A7%22%2C%22text%22%3A%22COUNT%20%5C%22screen%20time%5C%22%20WHERE%20%22%7D%5D%7D"></iframe>

  <p>
    The previous chart includes all of the data from all three channels
    (CNN, FOX and MSNBC) in a single line. We can perform a comparison of
    the number of hours of video by charting each channel separately.
    To do this, use the + button to add two more rows and to write
    <code>{{ parameters.channel }}=CNN</code>, <code>{{ parameters.channel }}=FOX</code>,
    and <code>{{ parameters.channel }}=MSNBC</code> into the search boxes, one per row so that
    the queries read:

    <div class="code-block">
      <code>
        <b>COUNT</b> screen time <b>WHERE</b> {{ parameters.channel }}=CNN<br>
        <b>COUNT</b> screen time <b>WHERE</b> {{ parameters.channel }}=FOX<br>
        <b>COUNT</b> screen time <b>WHERE</b> {{ parameters.channel }}=MSNBC
      </code>
    </div>
  </p>

  <p>
    <button type="button" class="btn btn-primary try-it-btn" title="Opens a new page">Try it yourself!</button>
  </p>

  <p>
    If you set the queries up correctly, hitting the search button will
    now generate a chart that looks similar to this (hover over it for
    a legend and tooltip):
  </p>
  <iframe width="100%" height="0" src="//{{ host }}/embed?width=600&height=270&data=%7B%22options%22%3A%7B%22start_date%22%3A%222010-01-01%22%2C%22end_date%22%3A%222018-04-01%22%2C%22count%22%3A%22screen%20time%22%2C%22aggregate%22%3A%22month%22%7D%2C%22queries%22%3A%5B%7B%22color%22%3A%22%234E79A7%22%2C%22text%22%3A%22COUNT%20%5C%22screen%20time%5C%22%20WHERE%20channel%3DCNN%22%7D%2C%7B%22color%22%3A%22%23F28E2B%22%2C%22text%22%3A%22COUNT%20%5C%22screen%20time%5C%22%20WHERE%20channel%3DFOX%22%7D%2C%7B%22color%22%3A%22%23E15759%22%2C%22text%22%3A%22COUNT%20%5C%22screen%20time%5C%22%20WHERE%20channel%3DMSNBC%22%7D%5D%7D"></iframe>

  <p>
    Filtering on other basic metadata such as the show follows a similar
    pattern. For a full list of options, read the
    <a href="/detailed" target="_blank">detailed documentation</a> page.
  </p>

  <h3>People in the news: Who is on screen?</h3>
  <p>
    People find themselves in the news for a variety of reasons. Anchors
    and journalists present the news; commentators may be invited on to
    espouse their opinions; or the person may be at the center of a story
    unfolding. Just as varied as the people and reasons for appearing
    are possible questions one might ask about these people.

    <i>For instance, what is the gender balance of the people in the news?
    Do these patterns hold when different topics are discussed,
    on different shows, or at different times in the day?</i>
  </p>

  <p>
    To answer these sorts of questions, this tool supports queries about
    on screen faces, their genders and their identities, for a subset of faces
    that have been identified.
    For example, we can compute the total screen time of men and women in the
    data set. This can be done using the <code>{{ parameters.onscreen_face }}</code>
    filter predicate. In this case, we want to filter on gender, so the filters
    will be <code>{{ parameters.onscreen_face }}="tag: male"</code> and
    <code>{{ parameters.onscreen_face }}="tag: female"</code> for frames that contain a face
    with a man and woman, respectively. Both of these queries can also be
    made by selecting the gender tag in the dropdown search editor.

    <div class="code-block">
      <code>
        <b>COUNT</b> screen time <b>WHERE</b> {{ parameters.onscreen_face }}="tag: male"<br>
        <b>COUNT</b> screen time <b>WHERE</b> {{ parameters.onscreen_face }}="tag: female"
      </code>
    </div>
  </p>

  <p>
    <button type="button" class="btn btn-primary try-it-btn" title="Opens a new page">Try it yourself!</button>
  </p>

  <p>
    If you entered the queries above, you should see a chart similar to the
    one below. Notice that the screen time of both male
    and female faces is trending upwards, but also that male screen time is
    roughly double that of female screen time.
  </p>
  <iframe width="100%" height="0" src="//{{ host }}/embed?width=600&height=270&data=%7B%22options%22%3A%7B%22start_date%22%3A%222010-01-01%22%2C%22end_date%22%3A%222018-04-01%22%2C%22count%22%3A%22screen%20time%22%2C%22aggregate%22%3A%22month%22%7D%2C%22queries%22%3A%5B%7B%22color%22%3A%22%234E79A7%22%2C%22text%22%3A%22COUNT%20%5C%22screen%20time%5C%22%20WHERE%20{{ parameters.onscreen_face }}%3D%5C%22tag%3A%20male%5C%22%22%7D%2C%7B%22color%22%3A%22%23F28E2B%22%2C%22text%22%3A%22COUNT%20%5C%22screen%20time%5C%22%20WHERE%20{{ parameters.onscreen_face }}%3D%5C%22tag%3A%20female%5C%22%22%7D%5D%7D"></iframe>

  <p>
    We can also make queries about people who have been identified in the videos.
    For example, if we were to compare the screen time of Donald Trump with
    that of Hillary Clinton. This will also require use of the
    <code>{{ parameters.onscreen_face }}</code> filter. However, since we are now interested
    in frames that contain a person, we use
    <code>{{ parameters.onscreen_face }}="person: Donald Trump"</code>
    and <code>{{ parameters.onscreen_face }}="person: Hillary Clinton"</code>, respectively.

    <div class="code-block">
      <code>
        <b>COUNT</b> screen time <b>WHERE</b> {{ parameters.onscreen_face }}="person: hillary clinton"<br>
        <b>COUNT</b> screen time <b>WHERE</b> {{ parameters.onscreen_face }}="person: donald trump"
      </code>
    </div>
  </p>

  <p>
    <button type="button" class="btn btn-primary try-it-btn" title="Opens a new page">Try it yourself!</button>
  </p>

  <p>
    If you entered the queries above, you should see a chart similar to the
    one below. Notice that the screen time of both male
    and female faces is trending upwards, but also that male screen time is
    roughly double that of female screen time.
  </p>
  <iframe width="100%" height="0" src="//{{ host }}/embed?width=600&height=270&data=%7B%22options%22%3A%7B%22start_date%22%3A%222010-01-01%22%2C%22end_date%22%3A%222018-04-01%22%2C%22count%22%3A%22screen%20time%22%2C%22aggregate%22%3A%22month%22%7D%2C%22queries%22%3A%5B%7B%22color%22%3A%22%234E79A7%22%2C%22text%22%3A%22COUNT%20%5C%22screen%20time%5C%22%20WHERE%20{{ parameters.onscreen_face }}%3D%5C%22person%3A%20hillary%20clinton%5C%22%22%7D%2C%7B%22color%22%3A%22%23F28E2B%22%2C%22text%22%3A%22COUNT%20%5C%22screen%20time%5C%22%20WHERE%20{{ parameters.onscreen_face }}%3D%5C%22person%3A%20donald%20trump%5C%22%22%7D%5D%7D"></iframe>

  <p>
    To see the list of people who are searchable, click
    <a href="/data/people" target="_blank">here</a>
    or use the dropdown search editor.
  </p>

  <p>
    It is important to note that the results include instances where
    a face is visible on screen for any reason. We currently do not
    differentiate whether the face is the subject or background, or whether
    the face is a live appearance, a video, or still image.
  </p>

  <h3>Searching for topics: Using the transcripts</h3>
  <p>
    Words and phrases in the transcripts can be indicative of the topic being
    discussed. Likewise, careful choice of words and phrases can also reflect
    biases in presentation and content.
  </p>

  <p>
    This tool can search the transcripts for the intervals where
    words are being said. For instance,
    <code>{{ parameters.caption_text }}="UNITED NATIONS"</code> finds all times when
    the phrase <code>"UNITED NATIONS"</code> appears in the transcripts.

    <div class="code-block">
      <code>
        <b>COUNT</b> screen time <b>WHERE</b> {{ parameters.caption_text }}="UNITED NATIONS"
      </code>
    </div>
  </p>

  <p>
    <button type="button" class="btn btn-primary try-it-btn" title="Opens a new page">Try it yourself!</button>
  </p>

  <p>
    If you entered the query above, you should see a chart similar to the
    following:
  </p>

  <iframe width="100%" height="0" src="//{{ host }}/embed?width=600&height=270&data=%7B%22options%22%3A%7B%22start_date%22%3A%222010-01-01%22%2C%22end_date%22%3A%222018-04-01%22%2C%22count%22%3A%22screen%20time%22%2C%22aggregate%22%3A%22month%22%7D%2C%22queries%22%3A%5B%7B%22color%22%3A%22%234E79A7%22%2C%22text%22%3A%22COUNT%20%5C%22screen%20time%5C%22%20WHERE%20{{ parameters.caption_text }}%3D%5C%22UNITED%20NATIONS%5C%22%22%7D%5D%7D"></iframe>

  <p>
    Notice that, by default, the tool finds only the exact moments when words
    are said. If for instance, we are interested in a window of 30 seconds
    around all times when the <code>"UNITED NATIONS"</code> appears, then
    we need the following.

    <div class="code-block">
      <code>
        <b>COUNT</b> screen time <b>WHERE</b> {{ parameters.caption_text }}="UNITED NATIONS" <b>AND</b> transcript.window=30
      </code>
    </div>
  </p>

  <p>
    Multiple phrases can be specified using "|" as a separator. For
    example, <code>{{ parameters.caption_text }}="UNITED NATIONS | UN | U.N."</code>.
    This can be useful for defining a topic query.
  </p>

  <h3>Putting it all together</h3>
  <p>
    So far, we have seen a number of simple queries. However, more complex
    queries can be expressed with a combination of filters. A query that counts
    the screen time of men, can be extended to count the screen time of
    men on a single channel:

    <div class="code-block">
      <code><b>COUNT</b> screen time <b>WHERE</b> {{ parameters.onscreen_face }}="tag: male" <b>AND</b> {{ parameters.channel }}=CNN</code>
    </div>

    Likewise, we can combine a query on identities with text. For example,
    to find the screen time of Donald Trump when the phrase
    <code>"BORDER WALL"</code> appears in the transcript, we can
    write the following query.

    <div class="code-block">
      <code><b>COUNT</b> screen time <b>WHERE</b> {{ parameters.onscreen_face }}="person: donald trump"
            <b>AND</b> {{ parameters.caption_text }}="BORDER WALL"</code>
    </div>

    A further refinement of the query is to find when Donald Trump is on screen
    within 30 seconds of <code>"BORDER WALL"</code> being said.

    <div class="code-block">
      <code><b>COUNT</b> screen time <b>WHERE</b> {{ parameters.onscreen_face }}="person: donald trump"
            <b>AND</b> {{ parameters.caption_text }}="BORDER WALL" <b>AND</b> {{ parameters.caption_window }}=30</code>
    </div>

    Similarly, the tool can compute screen time where two people (e.g., Donald Trump and
    Hillary Clinton) are shown on screen together.

    <div class="code-block">
      <code><b>COUNT</b> screen time <b>WHERE</b> {{ parameters.onscreen_face }}="person: donald trump"
            <b>AND</b> {{ parameters.onscreen_face }}="person: hillary clinton"</code>
    </div>

    Please read the <a href="/detailed" target="_blank">detailed documentation</a> page
    to understand the query syntax, the available query options, and advanced features such
    as normalization. Many of these queries can also be constructed using the dropdown search
    editor. Click <a href='/'>here</a> to return to the homepage.
  </p>
</div>

<script>
  $('.try-it-btn').click(function() {
    window.open('/?blank=1', '_blank');
  });
  function resizeIFrames() {
    $('iframe').each(function() {
      let iframe = $(this)[0];
      if (iframe && document.contains(iframe)) {
        $(iframe).ready(function() {
          if (iframe.contentWindow.document.body) {
            iframe.height = iframe.contentWindow.document.body.scrollHeight + 1;
          }
        });
      }
    });
    setTimeout(resizeIFrames, 100);
  }
  resizeIFrames();
</script>
{% endblock %}
